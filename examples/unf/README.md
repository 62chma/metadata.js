# Тестовое приложение "УНФ заказ покупателя"
Пример на [jsfiddle](http://jsfiddle.net/oknosoft/yza3msa9/) работает только в браузерах, на основе v8 (хром, опера, яндекс).
Это особенность _jsfiddle.net_. Поддержка браузеров ie и mozilla в `metadata.js` есть, но эти браузеры сильно отстают от хрома в части поддержки ES6. Для отладки и промышленной эксплуатации рекомендуется google chrome или chromium, который одинаково стабильно работает под Windows, Linux, iOS, Mac OS X и Android.

Рассмотрим по шагам, сначала демо-пример в облаке. Затем - развернём тот же пример на локальном компьютере.

## Шаг №1
Читаем код js [на странице примера](http://jsfiddle.net/oknosoft/yza3msa9/). Существенные для понимания моменты:

#### Подключение _metadata.js_ выполняется в три строки в блоке _head_
```html
<script src="//www.oknosoft.ru/assets/lib/dhtmlx.min.js"></script>
<script src="//www.oknosoft.ru/assets/lib/alasql.min.js"></script>
<script src="//www.oknosoft.ru/assets/lib/metadata.min.js"></script>
```
Вызов `dhtmlx` и `alasql` можно было завернуть вовнутрь `metadata.js` и получить подключение в одну строку, но нам хотелось подчеркнуть значимость двух китов, на которых опирается наша библиотека.

#### Для минималистичного приложения достаточно переопределить 2 метода
```javascript
$p.settings = function(prm, modifiers){}
```
В теле этой функции следует указать пути к данным и веб-сервису 1С.

```javascript
$p.iface.oninit = function(){}
```
Эта функция схожа с событием глобального контекста 1С _При начале работы системы_. В ней следует определить состав и внешний вид объектов интерфейса пользователя.
В данном примере используется стандартный диалог авторизации и интерфейс по умолчанию, подобный команде _Все функции_ с деревом объектов метаданных в левой части и контекстными формами списков. Для настройки такого поведения основного интерфейса, оказалось достаточно 10 строк кода. Проверьте. Если выкинуть комментарии, внутри обработчика `oninit` останется совсем мало кода.